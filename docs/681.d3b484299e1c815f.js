"use strict";(self.webpackChunkPillApp=self.webpackChunkPillApp||[]).push([[681],{1681:(C,s,i)=>{i.r(s),i.d(s,{PatientsCreationModule:()=>b});var l=i(9808),o=i(2382),t=i(1223),u=i(2340),p=i(520);let d=(()=>{class e{constructor(n){this.http=n}registerPatient(n){return this.http.post(`${u.N.API_URL}/patient`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=i(5425),g=i(9192);function f(e,a){1&e&&(t.TgZ(0,"div"),t._uU(1," El campo nombre es obligatorio "),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,f,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.fullName.getError("required"))}}let h=(()=>{class e{constructor(n,r){this.newPatientService=n,this.router=r,this.submitted=!1,this.registerPatientForm=new o.cw({fullName:new o.NI("",o.kI.required),kg:new o.NI("",[]),notes:new o.NI("",[])})}get fullName(){return this.registerPatientForm.controls.fullName}get kg(){return this.registerPatientForm.controls.kg}get notes(){return this.registerPatientForm.controls.notes}ngOnInit(){}registerSubmit(){const n=this.registerPatientForm.value;this.registerPatientForm.valid&&this.newPatientService.registerPatient({fullName:n.fullName,notes:n.notes,kg:n.kg}).subscribe(c=>{this.onReset()}),this.submitted=!0}get registerDataForm(){return this.registerPatientForm.controls}onReset(){this.submitted=!1,this.registerPatientForm.reset(),this.goBack()}goBack(){this.router.navigate(["/patients-all"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-patients-creation"]],decls:24,vars:4,consts:[[3,"backUrl"],[1,"vh-100"],[1,"card","col-12","col-sm-8","col-md-4","col-lg-3","col-xl-3","mx-auto","mt-5"],[1,"card-body","mx-5"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-5","mt-5"],[1,"h4"],["type","text","formControlName","fullName","id","fullName","aria-describedby","fullName","placeholder","Nombre y apellidos",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"form-group","mb-5"],["type","number","formControlName","kg","id","kg","placeholder","Introduce el n\xfamero",1,"form-control"],["type","text","formControlName","notes","id","notes","placeholder","Intolerancias, alergias....",1,"form-control"],[1,"text-center","mb-5"],["type","submit",1,"btn","btn-primary","mb-3",3,"disabled"],[1,"btn","btn-outline-primary-cancel","mb-3",3,"click"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"]],template:function(n,r){1&n&&(t._UZ(0,"app-top-navigation",0),t.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div")(5,"form",4),t.NdJ("ngSubmit",function(){return r.registerSubmit()}),t.TgZ(6,"div",5)(7,"p",6),t._uU(8,"Nombre completo"),t.qZA(),t._UZ(9,"input",7),t.YNc(10,v,2,1,"div",8),t.qZA(),t.TgZ(11,"div",9)(12,"p",6),t._uU(13,"Peso(Kg)"),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.TgZ(15,"div",9)(16,"p",6),t._uU(17,"Notas"),t.qZA(),t._UZ(18,"textarea",11),t.qZA(),t.TgZ(19,"div",12)(20,"button",13),t._uU(21," crear "),t.qZA(),t.TgZ(22,"button",14),t.NdJ("click",function(){return r.goBack()}),t._uU(23," Cancelar "),t.qZA()()()()()()()),2&n&&(t.Q6J("backUrl","/patients-all"),t.xp6(5),t.Q6J("formGroup",r.registerPatientForm),t.xp6(5),t.Q6J("ngIf",r.fullName.invalid&&(r.fullName.dirty||r.fullName.touched)),t.xp6(10),t.Q6J("disabled",!r.registerPatientForm.valid))},directives:[g.g,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,l.O5,o.wV],styles:[""]}),e})();var P=i(3408);const N=[{path:"",component:h}];let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,m.Bz.forChild(N),o.UX,P.A]]}),e})()}}]);